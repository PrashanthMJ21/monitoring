apiVersion: 1

templates:
  - name: alerts
    template: |
      {{ define "alerts" }}
      {{ if eq .Status "firing" }}

      {{ range .Alerts }}
      -> Summary: {{ .Annotations.summary }}
      -> Threshold: {{ .Annotations.threshold }}%
      ğŸ–¥ï¸ Server-ip: {{ .Annotations.server }}
      ğŸŒ URL: {{ .Annotations.url }}
      {{ end }}

      {{ else if eq .Status "resolved" }}
      {{ range .Alerts }}
      ğŸ–¥ï¸ Server-ip: {{ .Annotations.server }}
      ğŸŒ URL: {{ .Annotations.url }}
      {{ end }}
      {{ end }}
      {{ end }}

  - name: blackbox
    template: |
      {{ define "blackbox" }}

      {{ if eq .Status "firing" }}
      ğŸ“Š PingFailure: Endpoint is in Down state
      ğŸ” Endpoint: {{ .CommonAnnotations.url }}

      {{ else }}
      ğŸ“Š PingSuccess: Endpoint is back to up state
      ğŸ” Endpoint: {{ .CommonAnnotations.url }}
      {{ end }}

      {{ end }}
